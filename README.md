–û–ø–∏—à–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥—ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–ª–æ–∂–µ–Ω–∏—è –≤ –∫—É–±–µ—Ä–Ω–µ—Ç—ã –≤ –≤–∏–¥–µ —è–º–ª-–º–∞–Ω–∏–Ω–∏—Ñ–µ—Å—Ç–∞. –û—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤ –∫–æ–¥–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ –ø—Ä–∏–Ω—è—Ç—ã–º —Ä–µ—à–µ–Ω–∏—è–º. –ï—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤–≤–æ–¥–Ω—ã–µ:
- —É –Ω–∞—Å –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (—Ç—Ä–∏ –∑–æ–Ω—ã), –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—è—Ç—å –Ω–æ–¥
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –æ–∫–æ–ª–æ 5-10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ 4 –ø–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –Ω–∞ –ø–µ—Ä–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ CPU, –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–æ–≤–Ω–æ–µ –≤ —Ä–∞–π–æ–Ω–µ 0.1 CPU. –ü–æ –ø–∞–º—è—Ç–∏ –≤—Å–µ–≥–¥–∞ ‚Äú—Ä–æ–≤–Ω–æ‚Äù –≤ —Ä–∞–π–æ–Ω–µ 128–ú –ø–∞–º—è—Ç–∏
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –¥–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ ‚Äì –Ω–æ—á—å—é –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ—Ä—è–¥–∫–∏ –º–µ–Ω—å—à–µ, –ø–∏–∫ ‚Äì –¥–Ω—ë–º
- —Ö–æ—Ç–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- —Ö–æ—Ç–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –æ—Ç —ç—Ç–æ–≥–æ deployment'–∞


### üßæ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–º–∞–Ω–∏—Ñ–µ—Ç:

```—è–º–ª
apiVersion: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/v1
–≤–∏–¥: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
 –∏–º—è: php-apache
—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:
 —Ä–µ–ø–ª–∏–∫–∏: 1 
 —Å–µ–ª–µ–∫—Ç–æ—Ä:
 matchLabels:
 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: php-apache
 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
 rollingUpdate: # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µUpdateÿå—Ç–æ —ç—Å—Ç—å –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–∏–Ω–∏ –ø—Ä—Ä–ª–æ—æ–∂–µ–Ω–∏—è,–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –±—É–¥–µ—Ç –ø—Ä—Ä–æ–∑—Ä–∞—á–Ω–æ.
 maxSurge: 1 # –ù–∞ –∫–∞–∫–æ—ç –∫–∞–ª–∏—á–µ—à—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –º–æ–æ–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å, –æ—Ç–Ω–∏—Å–µ–ª—å–Ω–æ "—Ä–µ–ø–ª–∏–∫–∏: 1", –ø–æ–Ω–∏ –æ–±–Ω–æ–≤–ª–∏–Ω–∏.
 maxUnavailable: 0 # –ù–∞ –∫–∞–∫–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –º–æ–∂–Ω–æ –ø–æ–Ω–∏–∑–∏—Ç—å, –æ—Ç–Ω–æ—Å—Ç–µ–ª—å–Ω–æ "—Ä–µ–ø–ª–∏–∫–∏: 1", –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –≤ –¥–∞–Ω–Ω–æÔøΩ —Å–ª—É—á–∞–µ –ø–æ—ª—É—á–∞–µ—Ç—Å—è –Ω–∞ 0, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–ø–ª–∏–∫–∞ –æ–¥–Ω–∞.
 —Ç–∏–ø: RollingUpdate
 —à–∞–±–ª–æ–Ω:
 –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
 —ç—Ç–∏–∫–µ—Ç–∫–∏:
 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: php-apache
 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:
 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
 - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: k8s.gcr.io/hpa-–ø—Ä–∏–º–µ—Ä
 –∏–º—è: php-apache
 –ø–æ—Ä—Ç—ã:
 - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–ü–æ—Ä—Ç: 80
 readinessProbe: # –ü—Ä–æ–≤—è—Ç , –≥—Ç–æ–≤–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫. –ï—Å–ª–∏ –ø—Ä–æ–±–∞ —Å—Ñ–µ–π–ª–∏—Ç—å—Å—è, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
 failureThreshold: 3 # –¢—Ä–∏ –ø–æ–ø—ã—Ç–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å–ó–æ–Ω–¥
 httpGet: # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ http –∑–∞–ø—Ä–æ—Å—É, –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥, –ø–æ 80 –ø–æ—Ä—Ç—É
 –ø—É—Ç—å: /
 –ø–æ—Ä—Ç: 80
 periodSeconds: 10 # –ü—Ä–æ–≤—Ä–µ–º –∫–∞–∂—¥—ã–π 10 —Å–µ–∫—É–Ω–¥
 successThreshold: 1 # –ö–æ–ª–∏—á–µ—à—Ç–≤–æ —Å–±–æ–π–Ω—ã—Ö @—Ä–æ–≤–µ—Ä–æ–∫
 —Ç–∞–π–º-–∞—É—Ç–°–µ–∫—É–Ω–¥—ã: 1 # —Ç–∞–π–º-–∞—É—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–∏–µ –Ω–∞—à–µ–π –ø–æ–±—ã
 livenessProbe: # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –µ–≥–æ –∂–∏–∑–Ω–∏ ( –µ—Å–ª–∏ –ø—Ä–æ–±–∞ —Å—Ñ–µ–π–ª–∏—Ç—Å—è - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç –ø–æ–¥)
 –ü–æ—Ä–æ–≥ –æ—Ç–∫–∞–∑–∞: 3
 httpGet: # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ http –∑–∞–ø—Ä–æ—Å—É, –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥, –ø–æ 80 –ø–æ—Ä—Ç—É
 –ø—É—Ç—å: /
 –ø–æ—Ä—Ç: 80
 periodSeconds: 10 # –ü—Ä–æ–≤—Ä–µ–º –∫–∞–∂—¥—ã–π 10 —Å–µ–∫—É–Ω–¥
 successThreshold: 1 # –ö–æ–ª–∏—á–µ—à—Ç–≤–æ —Å–±–æ–π–Ω—ã—Ö @—Ä–æ–≤–µ—Ä–æ–∫
 —Ç–∞–π–º-–∞—É—Ç–°–µ–∫—É–Ω–¥—ã: 1
 initialDelaySeconds: 14 # –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, –ø–∏–ª–æ–∂–µ–Ω–∏–µ, –∑ÔøΩ—ø—Å—Å—Ç–∏–ª–æ—Å—å, –∂—¥—ë–º 14 —Å—Å–∫—É–Ω–¥, —Ä—∂–¥—á—µ–º –≤—ã–ø–æ–ª—å–Ω–æ—Ω—è—Ç—å livenessProbe.
 #–¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª–∑–µ–Ω—å–∑–æ–≤–µ—Ç—å startupProme.
 # startupProbe: - —Å–ø—É—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞–øProbe, –∑–∞—Å—Å—Å–∫–∞—é—Ç—Å—è —Å–ø—É—Ç—ª—å—ã–µ –ø–æ—Ä–±–æ–±—ã.
 # httpGet:
 # –ø—É—Ç—å: /
 # –ø–æ—Ä—Ç: 80
 # –ø–µ—Ä–∏–æ–¥–°–µ–∫—É–Ω–¥—ã: 7
 # –ø–æ—Ä–æ–≥ –æ—Ç–∫–∞–∑–∞: 2
 —Ä–µ—Å—É—Ä—Å—ã:
 –∑–∞–ø—Ä–æ—Å—ã:
 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä: 100–º
 –ø–∞–º—è—Ç—å: 128Mi # –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –û–ó–£, –ø–æ–Ç–æ—á–Ω–µ–µ –±—ã —É–∑–Ω–∞—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ, –∞ –Ω–µ –≤ "—Ä–∞–π–æ–Ω–µ", —á—Ç–æ –±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É–±–∏–ª–æ—Å—å.
 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä: 200–º # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –¶–ü–£ –ø–æ–¥–∞
 –ø–∞–º—è—Ç—å: 128Mi # –ú–∞—Å–∏–º–∞–ª—å–Ω–æ–µ –ø—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –û–ó–£ –ø–æ–¥–∞
```
–ù—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–º –Ω—É–∂–Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è - —Å–µ—Ä–≤–∏—Å, –¥–ª—è –ø—Ä–∏—ë–º —Ç—Ä–∞—Ñ–∏–∫–∞.
```—è–º–ª
apiVersion: v1
–≤–∏–¥: –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
 –∏–º—è: –º–æ–π-—Å–µ—Ä–≤–∏—Å
—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:
 –ø–æ—Ä—Ç—ã:
 - –ø–æ—Ä—Ç: 80 # –ù–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
 targetPort: 80 # –ü–æ—Ä—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∫—É–¥–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç —Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫.
 —Å–µ–ª–µ–∫—Ç–æ—Ä:
 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: php-apache 
 —Ç–∏–ø: ClusterIP
```
–ó–∞—Ö–æ—Ç–µ–ª–æ—Å—å –≤—ã–±—Ä–∞—Ç—å HPA v2,—Ç–∞–∫ –∫–∞–∫ —É –Ω–µ–≥–æ —Ä–∞—Å—à–∏—Ä–∏–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏,—Ö–æ—Ç—è –≤ –¥–∞–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞–º —ç—Ç–æ –Ω–µ –∫ —á–µ–º—É, –Ω–æ —Ö–æ–∑—è–∏–Ω - –±–∞—Ä–∏–Ω :) –°–æ–æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ —Å–∫–µ–π–ª
```—è–º–ª
apiVersion: –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ/v2beta2 
–≤–∏–¥: HorizontalPodAutoscaler 
–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
 –∏–º—è: php-apache
—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:
 scaleTargetRef:
 apiVersion: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/v1
 –≤–∏–¥: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
 –∏–º—è: php-apache
 minReplicas: 1 # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–≤ –ø—Ä–∏ —Å–∫–µ–π–ª–∏–Ω–≥–µ
 maxReplicas: 4 # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–≤ –ø—Ä–∏ —Å–∫–µ–π–ª–∏–Ω–≥–µ (–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑—è–ª –∏–∑ –¢–ó)
–º–µ—Ç—Ä–∏–∫–∏:
- —Ç–∏–ø: –†–µ—Å—É—Ä—Å # –í—ã–±—Ä–∞–ª —Ç–∏–ø —Ä–µ—Å—É—Ä—à, –∏ –∫–æ–π–ª–∏—Ç—å –±—É–¥–µ–º –ø–æ –¶–ü–£ 
 —Ä–µ—Å—É—Ä—Å:
 –∏–º—è: –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
 —Ü–µ–ª—å:
 —Ç–∏–ø: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
 —Å—Ä–µ–¥–Ω–µ–µ–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: 70
```
